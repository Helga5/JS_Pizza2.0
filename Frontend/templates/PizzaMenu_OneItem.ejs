<%

function getIngredientsArray(pizza) {
    //Отримує вміст піци
    var content = pizza.content;
    var result = [];

    //Object.keys повертає масив ключів в об’єкті JavaScript

    Object.keys(content).forEach(function(key){

        //a.concat(b) створює спільний масив із масивів a та b
        result = result.concat(content[key]);
    });

    return result;
}

   %>
<div class="col-md-6 col-lg-4 pizza-card">
	<% if(pizza.is_new) { %>
	<div class="label label-danger state-label">Нова</div>
	<% } else if(pizza.is_popular) {%>
	<div class="label label-success state-label">Популярна</div>
	<% } %>
	<div class="thumbnail">
		<img src="<%= pizza.icon %>">
		<div class="caption">
			<h3><%= pizza.title %></h3>
			<span class="pc-type"><%= pizza.type %></span>
			<p class="pc-description">
				<%= getIngredientsArray(pizza).join(", ") %>
			</p>
		</div>
		<div class="row pc-button-row">
			<% if (pizza.smallSize) { %>
			<div class="<% if (pizza.smallSize && pizza.bigSize) { %> col-xs-6 <% }
            else { %> col-xs-12 <% } %>">
				<div class="pc-diameter diameter-icon"><%= pizza.smallSize.size %></div>
				<div class="pc-weight weight-icon"><%= pizza.smallSize.weight %></div>
				<h3 class="pc-price"><%= pizza.smallSize.price %></h3>
				<p class="pc-price-uah">грн.</p>
				<a class="btn btn-warning buy-small">Купити</a>
			</div>
			<% } %>
			<% if (pizza.bigSize) { %>
			<div class="<% if (pizza.smallSize && pizza.bigSize) { %> col-xs-6 <% }
            else { %> col-xs-12 <% } %>">
				<div class="pc-diameter diameter-icon"><%= pizza.bigSize.size %></div>
				<div class="pc-weight weight-icon"><%= pizza.bigSize.weight %></div>
				<h3 class="pc-price"><%= pizza.bigSize.price %></h3>
				<p class="pc-price-uah">грн.</p>
				<a class="btn btn-warning buy-big">Купити</a>
			</div>
			<% } %>
		</div>
	</div>
</div>